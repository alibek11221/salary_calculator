// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: bonuses.sql

package dbstore

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const deleteBonus = `-- name: DeleteBonus :exec
DELETE FROM bonuses WHERE id = $1
`

func (q *Queries) DeleteBonus(ctx context.Context, id pgtype.UUID) error {
	_, err := q.db.Exec(ctx, deleteBonus, id)
	return err
}

const getBonusByDate = `-- name: GetBonusByDate :one
SELECT id
FROM bonuses
WHERE date = $1
`

func (q *Queries) GetBonusByDate(ctx context.Context, date string) (pgtype.UUID, error) {
	row := q.db.QueryRow(ctx, getBonusByDate, date)
	var id pgtype.UUID
	err := row.Scan(&id)
	return id, err
}

const insertBonus = `-- name: InsertBonus :exec
INSERT INTO bonuses (value, date, coefficient)
VALUES ($1, $2, $3)
`

type InsertBonusParams struct {
	Value       float64
	Date        string
	Coefficient float64
}

func (q *Queries) InsertBonus(ctx context.Context, arg InsertBonusParams) error {
	_, err := q.db.Exec(ctx, insertBonus, arg.Value, arg.Date, arg.Coefficient)
	return err
}

const listBonuses = `-- name: ListBonuses :many
SELECT id, value, date, coefficient
FROM bonuses
ORDER BY date
`

func (q *Queries) ListBonuses(ctx context.Context) ([]Bonuse, error) {
	rows, err := q.db.Query(ctx, listBonuses)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Bonuse
	for rows.Next() {
		var i Bonuse
		if err := rows.Scan(
			&i.ID,
			&i.Value,
			&i.Date,
			&i.Coefficient,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateBonus = `-- name: UpdateBonus :exec
UPDATE bonuses SET
value = $2,
date = $3,
coefficient = $4
WHERE id = $1
`

type UpdateBonusParams struct {
	ID          pgtype.UUID
	Value       float64
	Date        string
	Coefficient float64
}

func (q *Queries) UpdateBonus(ctx context.Context, arg UpdateBonusParams) error {
	_, err := q.db.Exec(ctx, updateBonus,
		arg.ID,
		arg.Value,
		arg.Date,
		arg.Coefficient,
	)
	return err
}
